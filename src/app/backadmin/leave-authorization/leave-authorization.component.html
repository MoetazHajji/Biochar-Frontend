<div class="list-table-header-item-area">
    <div class="introduction-area p-d-flex p-jc-between">
        <h1 class="big-title">
        Leave/Authorization  list
        </h1>
        <div class="container">
            <div class="btns-group two-btns">
                <button class="btn btn-blue" pButton pRipple icon="pi pi-plus" (click)="addLeaveAuth()"> New Request</button>
            </div>
            <div class="btns-group two-btns">
                <button class="btn btn-green" pButton pRipple icon="pi pi-history" (click)="updateRemainigDays()"> Remainig Days </button>
            </div>
        </div>
    </div>
    <!--.btns-group-->

    <!--.ADD Leave/Auth MODAL-->
    <app-add-leave-auth *ngIf="addLeaveAuthModal" [modalNewLeaveAuth]="addLeaveAuthModal"
            (closeModalNewLeaveAuth)="closeModalNewLeaveAuth($event)"></app-add-leave-auth>


    <!--.EDIT Leave/Auth MODAL-->
    <app-edit-leave-auth *ngIf="editLeaveAuthModal" [modalEditLeaveAuth]="editLeaveAuthModal"
            [LeaveAuthId]="getLeaveAuthId"
            (closeModalNewLeaveAuth)="closeModalNewLeaveAuth($event)"></app-edit-leave-auth>

    <div class="list-table-item-area">
        <div class="container" style="width: 80%;">
            <div class="table-area ">
                <div class="comments-table">
                    <div class="card">
                        <p-table [value]="leaveAuthList" responsiveLayout="stack" [breakpoint]="'960px'" [tableStyle]="{'min-width': '50rem'}">
                            <ng-template pTemplate="header" let-columns>
                                <tr>
                                    <th id="start_date" pSortableColumn="start_date">Start Date</th>
                                    <th id="end_date" pSortableColumn="end_date">End Date</th>
                                    <th id="authStartTime" pSortableColumn="authStartTime">Start Time</th>
                                    <th id="authEndTime" pSortableColumn="authEndTime">End Time</th>
                                    <th id="remaining_days" pSortableColumn="remaining_days">Remainig Days</th>
                                    <th id="cause" pSortableColumn="cause">Cause</th>
                                    <th id="type_la" pSortableColumn="type_la">Type</th>
                                    <th id="state_la" pSortableColumn="state_la">State</th>
                                    <th id="action" pSortableColumn="action">Actions</th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-leaveAuthList let-columns="columns">
                                <tr>
                                    <td><span class="p-column-title">Start Date</span>{{leaveAuthList.start_date}}</td>
                                    <td><span class="p-column-title">End Date</span>{{leaveAuthList.end_date}}</td>
                                    <td><span class="p-column-title">Authorization Start Time</span>{{leaveAuthList.authStartTime}}</td>
                                    <td><span class="p-column-title">Authorization End Time</span>{{leaveAuthList.authEndTime}}</td>
                                    <td><span class="p-column-title">Remainig Days</span>{{leaveAuthList.remainingLeaveDays}}</td>
                                    <td><span class="p-column-title">Cause</span>{{leaveAuthList.cause}}</td>
                                    <td><span class="p-column-title">Type</span>{{leaveAuthList.type_la}}</td>
                                    <td><span class="p-column-title">State</span>{{leaveAuthList.state_la}}</td>
                                    <td>
                                        <div class="more-link">
                                            <p-button tooltipPosition="left" class="p-panel-header-icon p-link" icon="pi pi-eye " [routerLink]="['/admin/leaveAuth/updateLeaveAuth',leaveAuthList.id]" ></p-button>
                                            <p-button class="p-panel-header-icon p-link" icon="pi pi-pencil" (click)="editLeaveAuth(leaveAuthList.id_LA)"></p-button>
                                            <p-button class="p-panel-header-icon p-link" icon="pi pi-times" data-toggle="modal" data-target="#exampleModal" (click)="idLeaveToDelete = leaveAuthList.id_LA"></p-button>
                                        </div>
                                    </td>
                                </tr>
                            </ng-template>
                        </p-table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="row">
                <div class="col-md-12">
                <div class="card card-user">
                    <div class="modal-header text-center">
                        <h5 class="modal-title" id="exampleModalLabel">Are you sure to delete leaveAuth</h5>
                        <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
                    </div>           
                    <div class="modal-body text-center">
                        <button class="btn btn-danger btn-round mr-2" data-dismiss="modal" (click)="deleteLeaveAuth(idLeaveToDelete)">Yes</button>
                        <button class="btn btn-primary btn-round ml-2" data-dismiss="modal" aria-label="Close">No</button>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </div>
</div>